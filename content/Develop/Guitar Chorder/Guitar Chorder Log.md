---
title: Guitar Chorder 개발일지
---
[[2024-12-11]]

### 문제점 발견
기타 코드표의 손가락 번호를 출력하는 기능을 구현하려 했다. 
개발 중 코드의 효율성, 직관성에 문제가 있다는 것을 파악했다. 
현재 기타 코드 데이터 타입은 다음과 같이 정의되어있다. 

```typescript
type Barre = {

from_string: number; // 바레 시작 줄

to_string: number; // 바레 끝 줄

};

  

type Fret = {

string: number; // 기타 줄 번호

fret: number; // 프렛 번호

finger: number | null; // 손가락 번호 (null은 손가락 사용 안 함)

barre?: Barre; // 바레 코드 정보 (optional)

};

  

type Chord = {

name: string; // 코드 이름

frets: Fret[]; // 운지 정보 배열

description: string; // 코드 설명

omit_strings?: number[]; // 연주하지 않는 줄 배열 (optional)

open_strings?: number[]; // 개방현 배열 (optional)

};

  

type ChordData = {

chords: Chord[]; // 모든 코드 데이터 배열

};
```

지금 당장으로서는 문제 될 것이 전혀 없다. 
위 코드를 바탕으로 작성된 정보로도 아래와 같이 잘 출력된다. 

![[Screenshot 2024-12-11 at 09.33.33.png]]

하지만 사진의 `A` 코드 는 4프렛 까지 출력 될 이유가 없다. 
3개 프렛으로 표현이 충분히 가능한 경우에는 3개 프렛만 출력하도록 기능을 수정하려 한다. 

만약 2번 프렛의 2, 3, 4번 줄이 아니라, **5번 프렛의 2, 3, 4번 프렛을 운지한다면** 어떨까? 
아마 5, 6, 7, 8번 프렛이 출력될 것이다. 
**일반적인 코드 운지표는 4, 5, 6번 프렛을 출력하여 5번 프렛을 가운데에 위치하도록 할 것이다. **

이를 수정하기 위해서는 데이터 구조를 전부 바꿔야 한다. 
어떻게 하려면 할 수야 있겠지만.. 굉장히 비효율적이고 직관적이지 못할 것이라 생각한다. 
향후 유지보수에도 크게 문제가 될 부분이다. 

결국 데이터 구조를 바꾸기로 결정했다. 
데이터 구조를 바꾸면서 하드코딩 되어있던 기타 코드 표의 좌표도 수정하기로 했다. 